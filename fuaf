--[[
    Modern UI Library
    Similar structure to scoot ui library
    
    Features:
    - Smooth animations and transitions
    - Multiple pages and sub-pages
    - Toggles, Sliders, Buttons, Dropdowns, Labels
    - Color pickers with tabs
    - Config system (save/load)
    - Custom font support
    - Theme system
    - Draggable and resizable windows
    - Mobile support
    
    Made for GitHub
    Date: 2025
]]

if Library then
    Library:Unload()
end

local LoadTick = os.clock()

local Library do
    local Workspace = game:GetService("Workspace")
    local UserInputService = game:GetService("UserInputService")
    local Players = game:GetService("Players")
    local HttpService = game:GetService("HttpService")
    local RunService = game:GetService("RunService")
    local CoreGui = cloneref and cloneref(game:GetService("CoreGui")) or game:GetService("CoreGui")
    local TweenService = game:GetService("TweenService")

    gethui = gethui or function()
        return CoreGui
    end

    local LocalPlayer = Players.LocalPlayer
    local Camera = Workspace.CurrentCamera
    local Mouse = LocalPlayer:GetMouse()

    -- Color shortcuts
    local FromRGB = Color3.fromRGB
    local FromHSV = Color3.fromHSV
    local FromHex = Color3.fromHex

    -- Sequence shortcuts
    local RGBSequence = ColorSequence.new
    local RGBSequenceKeypoint = ColorSequenceKeypoint.new
    local NumSequence = NumberSequence.new
    local NumSequenceKeypoint = NumberSequenceKeypoint.new

    -- UDim shortcuts
    local UDim2New = UDim2.new
    local UDimNew = UDim.new
    local Vector2New = Vector2.new

    -- Math shortcuts
    local MathClamp = math.clamp
    local MathFloor = math.floor
    local MathAbs = math.abs
    local MathSin = math.sin

    -- Table shortcuts
    local TableInsert = table.insert
    local TableFind = table.find
    local TableRemove = table.remove
    local TableConcat = table.concat
    local TableClone = table.clone

    -- String shortcuts
    local StringFormat = string.format
    local StringFind = string.find
    local StringGSub = string.gsub
    local StringLower = string.lower

    local InstanceNew = Instance.new

    local IsMobile = UserInputService.TouchEnabled or false

    Library = {
        Theme = {},
        
        MenuKeybind = tostring(Enum.KeyCode.RightControl),
        Flags = {},

        Tween = {
            Time = 0.2,
            Style = Enum.EasingStyle.Quad,
            Direction = Enum.EasingDirection.Out
        },

        FadeSpeed = 0.2,

        Folders = {
            Directory = "modernui",
            Configs = "modernui/Configs",
            Assets = "modernui/Assets",
        },

        Images = {
            ["Saturation"] = {"Saturation.png", "https://raw.githubusercontent.com/sametexe001/images/main/saturation.png"},
            ["Value"] = {"Value.png", "https://raw.githubusercontent.com/sametexe001/images/main/value.png"},
            ["Hue"] = {"Hue.png", "https://raw.githubusercontent.com/sametexe001/images/main/horizontalhue.png"},
            ["Checkers"] = {"Checkers.png", "https://raw.githubusercontent.com/sametexe001/images/main/checkers.png"},
        },

        -- Internal
        Pages = {},
        Sections = {},
        Connections = {},
        Threads = {},
        ThemeMap = {},
        ThemeItems = {},
        CopiedColor = nil,
        OpenFrames = {},
        CurrentPage = nil,
        SearchItems = {},
        SetFlags = {},
        UnnamedConnections = 0,
        UnnamedFlags = 0,
        Holder = nil,
        NotifHolder = nil,
        UnusedHolder = nil,
        Font = nil,
        KeyList = nil,
        Colorpickers = {},
    }

    Library.__index = Library
    Library.Sections.__index = Library.Sections
    Library.Pages.__index = Library.Pages

    -- Key mappings
    local Keys = {
        ["Unknown"] = "Unknown",
        ["Backspace"] = "Back",
        ["Tab"] = "Tab",
        ["Clear"] = "Clear",
        ["Return"] = "Return",
        ["Pause"] = "Pause",
        ["Escape"] = "Escape",
        ["Space"] = "Space",
        ["Delete"] = "Delete",
        ["End"] = "End",
        ["Insert"] = "Insert",
        ["Home"] = "Home",
        ["PageUp"] = "PageUp",
        ["PageDown"] = "PageDown",
        ["RightShift"] = "RightShift",
        ["LeftShift"] = "LeftShift",
        ["RightControl"] = "RightControl",
        ["LeftControl"] = "LeftControl",
        ["LeftAlt"] = "LeftAlt",
        ["RightAlt"] = "RightAlt"
    }

    -- Theme presets
    local Themes = {
        ["Preset"] = {
            ["Background"] = FromRGB(14, 17, 15),
            ["Border"] = FromRGB(12, 12, 12),
            ["Inline"] = FromRGB(20, 24, 21),
            ["Hovered Element"] = FromRGB(37, 42, 45),
            ["Page Background"] = FromRGB(25, 30, 26),
            ["Outline"] = FromRGB(42, 49, 45),
            ["Element"] = FromRGB(30, 36, 31),
            ["Gradient"] = FromRGB(208, 208, 208),
            ["Text"] = FromRGB(235, 235, 235),
            ["Text Stroke"] = FromRGB(0, 0, 0),
            ["Placeholder Text"] = FromRGB(185, 185, 185),
            ["Accent"] = FromRGB(202, 243, 255)
        }
    }

    Library.Theme = TableClone(Themes["Preset"])

    -- Create folders
    for Index, Value in Library.Folders do
        if not isfolder(Value) then
            makefolder(Value)
        end
    end

    -- Download images
    for Index, Value in Library.Images do
        local ImageData = Value
        local ImageName = ImageData[1]
        local ImageLink = ImageData[2]
        
        if not isfile(Library.Folders.Assets .. "/" .. ImageName) then
            writefile(Library.Folders.Assets .. "/" .. ImageName, game:HttpGet(ImageLink))
        end
    end

    -- Tween system
    local Tween = {} do
        Tween.__index = Tween

        Tween.Create = function(self, Item, Info, Goal, IsRawItem)
            Item = IsRawItem and Item or Item.Instance
            Info = Info or TweenInfo.new(Library.Tween.Time, Library.Tween.Style, Library.Tween.Direction)

            local NewTween = {
                Tween = TweenService:Create(Item, Info, Goal),
                Info = Info,
                Goal = Goal,
                Item = Item
            }

            NewTween.Tween:Play()
            setmetatable(NewTween, Tween)
            return NewTween
        end

        Tween.GetProperty = function(self, Item)
            Item = Item or self.Item

            if Item:IsA("Frame") then
                return {"BackgroundTransparency"}
            elseif Item:IsA("TextLabel") or Item:IsA("TextButton") then
                return {"TextTransparency", "BackgroundTransparency"}
            elseif Item:IsA("ImageLabel") or Item:IsA("ImageButton") then
                return {"BackgroundTransparency", "ImageTransparency"}
            elseif Item:IsA("ScrollingFrame") then
                return {"BackgroundTransparency", "ScrollBarImageTransparency"}
            elseif Item:IsA("TextBox") then
                return {"TextTransparency", "BackgroundTransparency"}
            elseif Item:IsA("UIStroke") then
                return {"Transparency"}
            end
        end

        Tween.FadeItem = function(self, Item, Property, Visibility, Speed)
            local Item = Item or self.Item

            local OldTransparency = Item[Property]
            Item[Property] = Visibility and 1 or OldTransparency

            local NewTween = Tween:Create(Item, TweenInfo.new(Speed or Library.Tween.Time, Library.Tween.Style, Library.Tween.Direction), {
                [Property] = Visibility and OldTransparency or 1
            }, true)

            Library:Connect(NewTween.Tween.Completed, function()
                if not Visibility then
                    task.wait()
                    Item[Property] = OldTransparency
                end
            end)

            return NewTween
        end
    end

    -- Instance wrapper
    local Instances = {} do
        Instances.__index = Instances

        Instances.Create = function(self, Class, Properties)
            local NewItem = {
                Instance = InstanceNew(Class),
                Properties = Properties,
                Class = Class
            }

            setmetatable(NewItem, Instances)

            for Property, Value in NewItem.Properties do
                NewItem.Instance[Property] = Value
            end

            return NewItem
        end

        Instances.AddToTheme = function(self, Properties)
            if not self.Instance then
                return
            end
            Library:AddToTheme(self, Properties)
        end

        Instances.ChangeItemTheme = function(self, Properties)
            if not self.Instance then
                return
            end
            Library:ChangeItemTheme(self, Properties)
        end

        Instances.Connect = function(self, Event, Callback, Name)
            if not self.Instance then
                return
            end

            if not self.Instance[Event] then
                return
            end

            if IsMobile then
                if Event == "MouseButton1Down" or Event == "MouseButton1Click" then
                    Event = "TouchTap"
                elseif Event == "MouseButton2Down" or Event == "MouseButton2Click" then
                    Event = "TouchLongPress"
                end
            end

            return Library:Connect(self.Instance[Event], Callback, Name)
        end

        Instances.Tween = function(self, Info, Goal)
            if not self.Instance then
                return
            end
            return Tween:Create(self, Info, Goal)
        end

        Instances.Clean = function(self)
            if not self.Instance then
                return
            end
            self.Instance:Destroy()
            self = nil
        end

        Instances.MakeDraggable = function(self)
            if not self.Instance then
                return
            end

            local Gui = self.Instance
            local Dragging = false
            local DragStart
            local StartPosition

            local Set = function(Input)
                local DragDelta = Input.Position - DragStart
                self:Tween(TweenInfo.new(0.16, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
                    Position = UDim2New(StartPosition.X.Scale, StartPosition.X.Offset + DragDelta.X, StartPosition.Y.Scale, StartPosition.Y.Offset + DragDelta.Y)
                })
            end

            local InputChanged

            self:Connect("InputBegan", function(Input)
                if Input.UserInputType == Enum.UserInputType.MouseButton1 or Input.UserInputType == Enum.UserInputType.Touch then
                    Dragging = true
                    DragStart = Input.Position
                    StartPosition = Gui.Position

                    if InputChanged then
                        return
                    end

                    InputChanged = Input.Changed:Connect(function()
                        if Input.UserInputState == Enum.UserInputState.End then
                            Dragging = false
                            InputChanged:Disconnect()
                            InputChanged = nil
                        end
                    end)
                end
            end)

            Library:Connect(UserInputService.InputChanged, function(Input)
                if Input.UserInputType == Enum.UserInputType.MouseMovement or Input.UserInputType == Enum.UserInputType.Touch then
                    if Dragging then
                        Set(Input)
                    end
                end
            end)

            return Dragging
        end

        Instances.OnHover = function(self, Function)
            if not self.Instance then
                return
            end
            return Library:Connect(self.Instance.MouseEnter, Function)
        end

        Instances.OnHoverLeave = function(self, Function)
            if not self.Instance then
                return
            end
            return Library:Connect(self.Instance.MouseLeave, Function)
        end

        Instances.Border = function(self, Type)
            if not self.Instance then
                return
            end

            local Color = Type == "Border" and Library.Theme.Border or Type == "Outline" and Library.Theme.Outline

            local UIStroke = Instances:Create("UIStroke", {
                Parent = self.Instance,
                Color = Color,
                Thickness = 1,
                LineJoinMode = Enum.LineJoinMode.Miter
            })
            UIStroke:AddToTheme({Color = Type})

            return UIStroke
        end

        Instances.TextBorder = function(self)
            if not self.Instance then
                return
            end

            local UIStroke = Instances:Create("UIStroke", {
                Parent = self.Instance,
                Color = Library.Theme["Text Stroke"],
                Thickness = 1,
                Transparency = 0.6,
                LineJoinMode = Enum.LineJoinMode.Miter
            })
            UIStroke:AddToTheme({Color = "Text Stroke"})

            return UIStroke
        end
    end

    -- Custom font
    local CustomFont = {} do
        function CustomFont:New(Name, Weight, Style, Data)
            if isfile(Library.Folders.Assets .. "/" .. Name .. ".json") then
                return Font.new(getcustomasset(Library.Folders.Assets .. "/" .. Name .. ".json"))
            end

            if not isfile(Library.Folders.Assets .. "/" .. Name .. ".ttf") then
                writefile(Library.Folders.Assets .. "/" .. Name .. ".ttf", game:HttpGet(Data.Url))
            end

            local FontData = {
                name = Name,
                faces = {{
                    name = "Regular",
                    weight = Weight,
                    style = Style,
                    assetId = getcustomasset(Library.Folders.Assets .. "/" .. Name .. ".ttf")
                }}
            }

            writefile(Library.Folders.Assets .. "/" .. Name .. ".json", HttpService:JSONEncode(FontData))
            return Font.new(getcustomasset(Library.Folders.Assets .. "/" .. Name .. ".json"))
        end

        function CustomFont:Get(Name)
            if isfile(Library.Folders.Assets .. "/" .. Name .. ".json") then
                return Font.new(getcustomasset(Library.Folders.Assets .. "/" .. Name .. ".json"))
            end
        end

        CustomFont:New("Monaco", 400, "Regular", {
            Url = "https://github.com/sametexe001/luas/raw/refs/heads/main/fonts/Monaco.ttf"
        })

        Library.Font = CustomFont:Get("Monaco")
    end

    -- Screen GUI holders
    Library.Holder = Instances:Create("ScreenGui", {
        Parent = gethui(),
        Name = "\0",
        ZIndexBehavior = Enum.ZIndexBehavior.Global,
        DisplayOrder = 2,
        ResetOnSpawn = false
    })

    Library.UnusedHolder = Instances:Create("ScreenGui", {
        Parent = gethui(),
        Name = "\0",
        ZIndexBehavior = Enum.ZIndexBehavior.Global,
        Enabled = false,
        ResetOnSpawn = false
    })

    Library.NotifHolder = Instances:Create("Frame", {
        Parent = Library.Holder.Instance,
        Name = "\0",
        BackgroundTransparency = 1,
        Size = UDim2New(0, 0, 1, 0),
        BorderColor3 = FromRGB(0, 0, 0),
        BorderSizePixel = 0,
        AutomaticSize = Enum.AutomaticSize.X,
        BackgroundColor3 = FromRGB(255, 255, 255)
    })

    Instances:Create("UIListLayout", {
        Parent = Library.NotifHolder.Instance,
        Name = "\0",
        VerticalAlignment = Enum.VerticalAlignment.Bottom,
        Padding = UDimNew(0, 12),
        SortOrder = Enum.SortOrder.LayoutOrder
    })

    Instances:Create("UIPadding", {
        Parent = Library.NotifHolder.Instance,
        Name = "\0",
        PaddingTop = UDimNew(0, 12),
        PaddingBottom = UDimNew(0, 12),
        PaddingRight = UDimNew(0, 12),
        PaddingLeft = UDimNew(0, 12)
    })

    -- Core functions
    Library.Unload = function(self)
        for Index, Value in self.Connections do
            Value.Connection:Disconnect()
        end

        for Index, Value in self.Threads do
            coroutine.close(Value)
        end

        if self.Holder then
            self.Holder:Clean()
        end

        Library = nil
        getgenv().Library = nil

        UserInputService.MouseIconEnabled = true
    end

    Library.GetImage = function(self, Image)
        local ImageData = self.Images[Image]
        if not ImageData then
            return
        end
        return getcustomasset(self.Folders.Assets .. "/" .. ImageData[1])
    end

    Library.Round = function(self, Number, Float)
        local Multiplier = 1 / (Float or 1)
        return MathFloor(Number * Multiplier) / Multiplier
    end

    Library.Thread = function(self, Function)
        local NewThread = coroutine.create(Function)
        
        coroutine.wrap(function()
            coroutine.resume(NewThread)
        end)()

        TableInsert(self.Threads, NewThread)
        return NewThread
    end

    Library.SafeCall = function(self, Function, ...)
        local Arguments = {...}
        local Success, Result = pcall(Function, table.unpack(Arguments))

        if not Success then
            warn(Result)
            return false
        end

        return Success
    end

    Library.Connect = function(self, Event, Callback, Name)
        Name = Name or StringFormat("Connection%s%s", self.UnnamedConnections + 1, HttpService:GenerateGUID(false))

        local NewConnection = {
            Event = Event,
            Callback = Callback,
            Name = Name,
            Connection = nil
        }

        Library:Thread(function()
            NewConnection.Connection = Event:Connect(Callback)
        end)

        TableInsert(self.Connections, NewConnection)
        return NewConnection
    end

    Library.Disconnect = function(self, Name)
        for _, Connection in self.Connections do
            if Connection.Name == Name then
                Connection.Connection:Disconnect()
                break
            end
        end
    end

    Library.NextFlag = function(self)
        local FlagNumber = self.UnnamedFlags + 1
        return StringFormat("flag_number_%s_%s", FlagNumber, HttpService:GenerateGUID(false))
    end

    Library.AddToTheme = function(self, Item, Properties)
        Item = Item.Instance or Item

        local ThemeData = {
            Item = Item,
            Properties = Properties,
        }

        for Property, Value in ThemeData.Properties do
            if type(Value) == "string" then
                Item[Property] = self.Theme[Value]
            else
                Item[Property] = Value()
            end
        end

        TableInsert(self.ThemeItems, ThemeData)
        self.ThemeMap[Item] = ThemeData
    end

    Library.ChangeItemTheme = function(self, Item, Properties)
        Item = Item.Instance or Item

        if not self.ThemeMap[Item] then
            return
        end

        self.ThemeMap[Item].Properties = Properties
        self.ThemeMap[Item] = self.ThemeMap[Item]
    end

    Library.ChangeTheme = function(self, Theme, Color)
        self.Theme[Theme] = Color

        for _, Item in self.ThemeItems do
            for Property, Value in Item.Properties do
                if type(Value) == "string" and Value == Theme then
                    Item.Item[Property] = Color
                elseif type(Value) == "function" then
                    Item.Item[Property] = Value()
                end
            end
        end
    end

    Library.IsMouseOverFrame = function(self, Frame, XOffset, YOffset)
        Frame = Frame.Instance
        XOffset = XOffset or 0
        YOffset = YOffset or 0

        local MousePosition = Vector2New(Mouse.X + XOffset, Mouse.Y + YOffset)

        return MousePosition.X >= Frame.AbsolutePosition.X and MousePosition.X <= Frame.AbsolutePosition.X + Frame.AbsoluteSize.X
            and MousePosition.Y >= Frame.AbsolutePosition.Y and MousePosition.Y <= Frame.AbsolutePosition.Y + Frame.AbsoluteSize.Y
    end

    Library.GetConfig = function(self)
        local Config = {}

        local Success, Result = Library:SafeCall(function()
            for Index, Value in Library.Flags do
                if type(Value) == "table" and Value.Key then
                    Config[Index] = {Key = tostring(Value.Key), Mode = Value.Mode}
                elseif type(Value) == "table" and Value.Color then
                    Config[Index] = {Color = "#" .. Value.Color, Alpha = Value.Alpha}
                else
                    Config[Index] = Value
                end
            end
        end)

        return HttpService:JSONEncode(Config)
    end

    Library.LoadConfig = function(self, Config)
        local Decoded = HttpService:JSONDecode(Config)

        local Success, Result = Library:SafeCall(function()
            for Index, Value in Decoded do
                local SetFunction = Library.SetFlags[Index]

                if not SetFunction then
                    continue
                end

                if type(Value) == "table" and Value.Key then
                    SetFunction(Value)
                elseif type(Value) == "table" and Value.Color then
                    SetFunction(Value.Color, Value.Alpha)
                else
                    SetFunction(Value)
                end
            end
        end)

        return Success, Result
    end

    -- Create window
    Library.CreateWindow = function(self, Data)
        Data = Data or {}
        Data.Name = Data.Name or "UI Library"
        Data.Size = Data.Size or UDim2New(0, 600, 0, 500)
        Data.Position = Data.Position or UDim2New(0.5, -300, 0.5, -250)
        Data.Draggable = Data.Draggable ~= false
        Data.FadeTime = Data.FadeTime or 0.2

        local Window = {
            Pages = {},
            FadeTime = Data.FadeTime
        }

        local Items = {} do
            Items["Window"] = Instances:Create("Frame", {
                Parent = Library.Holder.Instance,
                Name = "\0",
                AnchorPoint = Vector2New(0.5, 0.5),
                Position = Data.Position,
                BorderColor3 = FromRGB(12, 12, 12),
                Size = Data.Size,
                BorderSizePixel = 2,
                BackgroundColor3 = FromRGB(14, 17, 15)
            })
            Items["Window"]:AddToTheme({BackgroundColor3 = "Background", BorderColor3 = "Border"})

            if Data.Draggable then
                Items["Window"]:MakeDraggable()
            end

            Items["UIStroke"] = Items["Window"]:Border("Outline")

            Items["TopBar"] = Instances:Create("Frame", {
                Parent = Items["Window"].Instance,
                Name = "\0",
                BackgroundTransparency = 1,
                Size = UDim2New(1, 0, 0, 30),
                BackgroundColor3 = FromRGB(255, 255, 255)
            })

            Items["Title"] = Instances:Create("TextLabel", {
                Parent = Items["TopBar"].Instance,
                Name = "\0",
                FontFace = Library.Font,
                TextColor3 = FromRGB(235, 235, 235),
                Text = Data.Name,
                BackgroundTransparency = 1,
                Size = UDim2New(1, 0, 1, 0),
                TextSize = 10,
                BackgroundColor3 = FromRGB(255, 255, 255)
            })
            Items["Title"]:AddToTheme({TextColor3 = "Text"})
            Items["Title"]:TextBorder()

            Items["PageButtons"] = Instances:Create("Frame", {
                Parent = Items["Window"].Instance,
                Name = "\0",
                Position = UDim2New(0, 0, 0, 35),
                Size = UDim2New(0, 150, 1, -35),
                BorderColor3 = FromRGB(0, 0, 0),
                BackgroundTransparency = 1,
                BorderSizePixel = 0,
                BackgroundColor3 = FromRGB(255, 255, 255)
            })

            Instances:Create("UIListLayout", {
                Parent = Items["PageButtons"].Instance,
                Name = "\0",
                Padding = UDimNew(0, 3),
                SortOrder = Enum.SortOrder.LayoutOrder
            })

            Instances:Create("UIPadding", {
                Parent = Items["PageButtons"].Instance,
                Name = "\0",
                PaddingTop = UDimNew(0, 2),
                PaddingBottom = UDimNew(0, 2),
                PaddingLeft = UDimNew(0, 2)
            })

            Items["ContentHolder"] = Instances:Create("Frame", {
                Parent = Items["Window"].Instance,
                Name = "\0",
                Position = UDim2New(0, 158, 0, 35),
                Size = UDim2New(1, -166, 1, -43),
                BackgroundTransparency = 1,
                BorderColor3 = FromRGB(0, 0, 0),
                BorderSizePixel = 0,
                BackgroundColor3 = FromRGB(255, 255, 255)
            })
        end

        -- Create page
        function Window:CreatePage(PageData)
            PageData = PageData or {}
            PageData.Name = PageData.Name or "Page"
            PageData.Columns = PageData.Columns or 2

            local Page = {
                Active = false,
                SubPages = {},
                Items = {},
                Window = Window,
                ColumnsData = {}
            }

            local PageItems = {} do
                PageItems["Button"] = Instances:Create("TextButton", {
                    Parent = Items["PageButtons"].Instance,
                    Name = "\0",
                    FontFace = Library.Font,
                    TextColor3 = FromRGB(0, 0, 0),
                    BorderColor3 = FromRGB(12, 12, 12),
                    Text = "",
                    AutoButtonColor = false,
                    BackgroundTransparency = 0.6,
                    Size = UDim2New(1, 0, 0, 25),
                    BorderSizePixel = 2,
                    TextSize = 14,
                    BackgroundColor3 = FromRGB(25, 30, 26)
                })
                PageItems["Button"]:AddToTheme({BackgroundColor3 = "Page Background", BorderColor3 = "Border"})

                PageItems["ButtonBorder"] = Instances:Create("UIStroke", {
                    Parent = PageItems["Button"].Instance,
                    Name = "\0",
                    Color = FromRGB(61, 60, 65),
                    Transparency = 0.6,
                    LineJoinMode = Enum.LineJoinMode.Miter,
                    ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                })
                PageItems["ButtonBorder"]:AddToTheme({Color = "Outline"})

                PageItems["Liner"] = Instances:Create("Frame", {
                    Parent = PageItems["Button"].Instance,
                    Name = "\0",
                    BackgroundTransparency = 1,
                    BorderColor3 = FromRGB(0, 0, 0),
                    Size = UDim2New(0, 1, 1, 0),
                    BorderSizePixel = 0,
                    BackgroundColor3 = FromRGB(25, 30, 26)
                })
                PageItems["Liner"]:AddToTheme({BackgroundColor3 = "Accent"})

                PageItems["Text"] = Instances:Create("TextLabel", {
                    Parent = PageItems["Button"].Instance,
                    Name = "\0",
                    FontFace = Library.Font,
                    TextColor3 = FromRGB(235, 235, 235),
                    BorderColor3 = FromRGB(0, 0, 0),
                    Text = PageData.Name,
                    AnchorPoint = Vector2New(0, 0.5),
                    Size = UDim2New(0, 0, 0, 15),
                    BackgroundTransparency = 1,
                    Position = UDim2New(0, 8, 0.5, 0),
                    BorderSizePixel = 0,
                    AutomaticSize = Enum.AutomaticSize.X,
                    TextSize = 9,
                    BackgroundColor3 = FromRGB(255, 255, 255)
                })
                PageItems["Text"]:AddToTheme({TextColor3 = "Text"})
                PageItems["Text"]:TextBorder()

                PageItems["Glow"] = Instances:Create("Frame", {
                    Parent = PageItems["Button"].Instance,
                    Name = "\0",
                    BackgroundTransparency = 1,
                    BorderColor3 = FromRGB(0, 0, 0),
                    Size = UDim2New(0, 20, 1, 0),
                    BorderSizePixel = 0,
                    BackgroundColor3 = FromRGB(25, 30, 26)
                })
                PageItems["Glow"]:AddToTheme({BackgroundColor3 = "Accent"})

                Instances:Create("UIGradient", {
                    Parent = PageItems["Glow"].Instance,
                    Name = "\0",
                    Transparency = NumSequence{NumSequenceKeypoint(0, 0), NumSequenceKeypoint(0.193, 0.8687499761581421), NumSequenceKeypoint(0.504, 0.96875), NumSequenceKeypoint(1, 1)}
                })

                PageItems["Page"] = Instances:Create("Frame", {
                    Parent = Items["ContentHolder"].Instance,
                    Name = "\0",
                    BackgroundTransparency = 1,
                    Visible = false,
                    BorderColor3 = FromRGB(0, 0, 0),
                    Size = UDim2New(1, 0, 1, 0),
                    BackgroundColor3 = FromRGB(255, 255, 255)
                })

                Instances:Create("UIListLayout", {
                    Parent = PageItems["Page"].Instance,
                    Name = "\0",
                    FillDirection = Enum.FillDirection.Horizontal,
                    HorizontalFlex = Enum.UIFlexAlignment.Fill,
                    Padding = UDimNew(0, 14),
                    SortOrder = Enum.SortOrder.LayoutOrder
                })

                for Index = 1, PageData.Columns do
                    local NewColumn = Instances:Create("ScrollingFrame", {
                        Parent = PageItems["Page"].Instance,
                        Name = "\0",
                        ScrollBarImageColor3 = FromRGB(0, 0, 0),
                        Active = true,
                        AutomaticCanvasSize = Enum.AutomaticSize.Y,
                        ScrollBarThickness = 0,
                        BackgroundTransparency = 1,
                        Size = UDim2New(1, 0, 1, 0),
                        BackgroundColor3 = FromRGB(255, 255, 255),
                        BorderColor3 = FromRGB(0, 0, 0),
                        BorderSizePixel = 0,
                        CanvasSize = UDim2New(0, 0, 0, 0)
                    })

                    Instances:Create("UIPadding", {
                        Parent = NewColumn.Instance,
                        Name = "\0",
                        PaddingTop = UDimNew(0, 2),
                        PaddingBottom = UDimNew(0, 2),
                        PaddingRight = UDimNew(0, 2),
                        PaddingLeft = UDimNew(0, 2)
                    })

                    Instances:Create("UIListLayout", {
                        Parent = NewColumn.Instance,
                        Name = "\0",
                        Padding = UDimNew(0, 14),
                        SortOrder = Enum.SortOrder.LayoutOrder
                    })

                    Page.ColumnsData[Index] = NewColumn
                end

                Page.Items = PageItems
            end

            local Debounce = false

            function Page:Turn(Bool)
                if Debounce then
                    return
                end

                Page.Active = Bool

                Debounce = true
                PageItems["Page"].Instance.Visible = Bool
                PageItems["Page"].Instance.Parent = Bool and Items["ContentHolder"].Instance or Library.UnusedHolder.Instance

                if Page.Active then
                    PageItems["Button"]:Tween(nil, {BackgroundTransparency = 0})
                    PageItems["ButtonBorder"]:Tween(nil, {Transparency = 0})
                    PageItems["Glow"]:Tween(nil, {BackgroundTransparency = 0})
                    PageItems["Liner"]:Tween(nil, {BackgroundTransparency = 0})
                    PageItems["Text"]:Tween(nil, {Position = UDim2New(0, 13, 0.5, 0)})

                    Library.CurrentPage = Page
                else
                    PageItems["Button"]:Tween(nil, {BackgroundTransparency = 0.6})
                    PageItems["ButtonBorder"]:Tween(nil, {Transparency = 0.6})
                    PageItems["Glow"]:Tween(nil, {BackgroundTransparency = 1})
                    PageItems["Liner"]:Tween(nil, {BackgroundTransparency = 1})
                    PageItems["Text"]:Tween(nil, {Position = UDim2New(0, 8, 0.5, 0)})
                end

                task.delay(Window.FadeTime, function()
                    Debounce = false
                end)
            end

            -- Toggle
            function Page:CreateToggle(ToggleData)
                ToggleData = ToggleData or {}
                ToggleData.Name = ToggleData.Name or "Toggle"
                ToggleData.Default = ToggleData.Default or false
                ToggleData.Flag = ToggleData.Flag or Library:NextFlag()
                ToggleData.Callback = ToggleData.Callback or function() end
                ToggleData.Column = ToggleData.Column or 1

                local Toggle = {
                    Value = false,
                    Flag = ToggleData.Flag
                }

                local ToggleItems = {} do
                    ToggleItems["Toggle"] = Instances:Create("TextButton", {
                        Parent = Page.ColumnsData[ToggleData.Column].Instance,
                        Name = "\0",
                        FontFace = Library.Font,
                        TextColor3 = FromRGB(0, 0, 0),
                        BorderColor3 = FromRGB(0, 0, 0),
                        Text = "",
                        AutoButtonColor = false,
                        BackgroundTransparency = 1,
                        Size = UDim2New(1, 0, 0, 12),
                        BorderSizePixel = 0,
                        TextSize = 14,
                        BackgroundColor3 = FromRGB(255, 255, 255)
                    })

                    ToggleItems["Indicator"] = Instances:Create("Frame", {
                        Parent = ToggleItems["Toggle"].Instance,
                        Name = "\0",
                        AnchorPoint = Vector2New(0, 0.5),
                        Position = UDim2New(0, 0, 0.5, 0),
                        BorderColor3 = FromRGB(12, 12, 12),
                        Size = UDim2New(0, 12, 0, 12),
                        BorderSizePixel = 2,
                        BackgroundColor3 = FromRGB(30, 36, 31)
                    })
                    ToggleItems["Indicator"]:AddToTheme({BackgroundColor3 = "Element", BorderColor3 = "Border"})

                    Instances:Create("UIStroke", {
                        Parent = ToggleItems["Indicator"].Instance,
                        Name = "\0",
                        Color = FromRGB(42, 49, 45),
                        LineJoinMode = Enum.LineJoinMode.Miter,
                        ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                    }):AddToTheme({Color = "Outline"})

                    Instances:Create("UIGradient", {
                        Parent = ToggleItems["Indicator"].Instance,
                        Name = "\0",
                        Rotation = -165,
                        Color = RGBSequence{RGBSequenceKeypoint(0, FromRGB(255, 255, 255)), RGBSequenceKeypoint(1, FromRGB(208, 208, 208))}
                    }):AddToTheme({
                        Color = function()
                            return RGBSequence{RGBSequenceKeypoint(0, FromRGB(255, 255, 255)), RGBSequenceKeypoint(1, Library.Theme.Gradient)}
                        end
                    })

                    ToggleItems["Check"] = Instances:Create("ImageLabel", {
                        Parent = ToggleItems["Indicator"].Instance,
                        Name = "\0",
                        ImageColor3 = FromRGB(0, 0, 0),
                        ScaleType = Enum.ScaleType.Fit,
                        ImageTransparency = 1,
                        BorderColor3 = FromRGB(0, 0, 0),
                        AnchorPoint = Vector2New(0.5, 0.5),
                        Image = "rbxassetid://108016671469439",
                        BackgroundTransparency = 1,
                        Position = UDim2New(0.5, 0, 0.5, 0),
                        Size = UDim2New(1, 2, 1, 2),
                        BorderSizePixel = 0,
                        BackgroundColor3 = FromRGB(255, 255, 255)
                    })

                    ToggleItems["Text"] = Instances:Create("TextLabel", {
                        Parent = ToggleItems["Toggle"].Instance,
                        Name = "\0",
                        FontFace = Library.Font,
                        TextColor3 = FromRGB(235, 235, 235),
                        BorderColor3 = FromRGB(0, 0, 0),
                        Text = ToggleData.Name,
                        Size = UDim2New(0, 0, 0, 15),
                        AnchorPoint = Vector2New(0, 0.5),
                        Position = UDim2New(0, 22, 0.5, 0),
                        BackgroundTransparency = 1,
                        TextXAlignment = Enum.TextXAlignment.Left,
                        BorderSizePixel = 0,
                        AutomaticSize = Enum.AutomaticSize.X,
                        TextSize = 9,
                        BackgroundColor3 = FromRGB(255, 255, 255)
                    })
                    ToggleItems["Text"]:AddToTheme({TextColor3 = "Text"})
                    ToggleItems["Text"]:TextBorder()
                end

                function Toggle:Get()
                    return Toggle.Value
                end

                function Toggle:Set(Value)
                    Toggle.Value = Value
                    Library.Flags[Toggle.Flag] = Value

                    if Toggle.Value then
                        ToggleItems["Indicator"]:ChangeItemTheme({BackgroundColor3 = "Accent", BorderColor3 = "Border"})
                        ToggleItems["Indicator"]:Tween(nil, {BackgroundColor3 = Library.Theme.Accent})
                        task.wait(0.05)
                        ToggleItems["Check"]:Tween(TweenInfo.new(Library.Tween.Time, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {ImageTransparency = 0, Size = UDim2New(1, 2, 1, 2)})
                    else
                        ToggleItems["Indicator"]:ChangeItemTheme({BackgroundColor3 = "Element", BorderColor3 = "Border"})
                        ToggleItems["Indicator"]:Tween(nil, {BackgroundColor3 = Library.Theme.Element})
                        task.wait(0.05)
                        ToggleItems["Check"]:Tween(TweenInfo.new(Library.Tween.Time, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {ImageTransparency = 1, Size = UDim2New(0, 0, 0, 0)})
                    end

                    if ToggleData.Callback then
                        Library:SafeCall(ToggleData.Callback, Toggle.Value)
                    end
                end

                ToggleItems["Toggle"]:Connect("MouseButton1Down", function()
                    Toggle:Set(not Toggle.Value)
                end)

                ToggleItems["Toggle"]:OnHover(function()
                    if Toggle.Value then
                        return
                    end
                    ToggleItems["Indicator"]:ChangeItemTheme({BackgroundColor3 = "Hovered Element", BorderColor3 = "Border"})
                    ToggleItems["Indicator"]:Tween(nil, {BackgroundColor3 = Library.Theme["Hovered Element"]})
                end)

                ToggleItems["Toggle"]:OnHoverLeave(function()
                    if Toggle.Value then
                        return
                    end
                    ToggleItems["Indicator"]:ChangeItemTheme({BackgroundColor3 = "Element", BorderColor3 = "Border"})
                    ToggleItems["Indicator"]:Tween(nil, {BackgroundColor3 = Library.Theme.Element})
                end)

                Toggle:Set(ToggleData.Default)

                Library.SetFlags[Toggle.Flag] = function(Value)
                    Toggle:Set(Value)
                end

                return Toggle
            end

            -- Slider
            function Page:CreateSlider(SliderData)
                SliderData = SliderData or {}
                SliderData.Name = SliderData.Name or "Slider"
                SliderData.Min = SliderData.Min or 0
                SliderData.Max = SliderData.Max or 100
                SliderData.Default = SliderData.Default or 50
                SliderData.Decimals = SliderData.Decimals or 1
                SliderData.Suffix = SliderData.Suffix or ""
                SliderData.Flag = SliderData.Flag or Library:NextFlag()
                SliderData.Callback = SliderData.Callback or function() end
                SliderData.Column = SliderData.Column or 1

                local Slider = {
                    Value = 0,
                    Flag = SliderData.Flag,
                    Sliding = false
                }

                local SliderItems = {} do
                    SliderItems["Slider"] = Instances:Create("Frame", {
                        Parent = Page.ColumnsData[SliderData.Column].Instance,
                        Name = "\0",
                        BackgroundTransparency = 1,
                        BorderColor3 = FromRGB(0, 0, 0),
                        Size = UDim2New(1, 0, 0, 28),
                        BorderSizePixel = 0,
                        BackgroundColor3 = FromRGB(255, 255, 255)
                    })

                    SliderItems["Text"] = Instances:Create("TextLabel", {
                        Parent = SliderItems["Slider"].Instance,
                        Name = "\0",
                        FontFace = Library.Font,
                        TextColor3 = FromRGB(235, 235, 235),
                        BorderColor3 = FromRGB(0, 0, 0),
                        Text = SliderData.Name,
                        BackgroundTransparency = 1,
                        Size = UDim2New(0, 0, 0, 15),
                        BorderSizePixel = 0,
                        AutomaticSize = Enum.AutomaticSize.X,
                        TextSize = 9,
                        BackgroundColor3 = FromRGB(255, 255, 255)
                    })
                    SliderItems["Text"]:AddToTheme({TextColor3 = "Text"})
                    SliderItems["Text"]:TextBorder()

                    SliderItems["RealSlider"] = Instances:Create("TextButton", {
                        Parent = SliderItems["Slider"].Instance,
                        AutoButtonColor = false,
                        Text = "",
                        Name = "\0",
                        AnchorPoint = Vector2New(0, 1),
                        Position = UDim2New(0, 0, 1, 0),
                        BorderColor3 = FromRGB(12, 12, 12),
                        Size = UDim2New(1, 0, 0, 10),
                        BorderSizePixel = 2,
                        BackgroundColor3 = FromRGB(30, 36, 31)
                    })
                    SliderItems["RealSlider"]:AddToTheme({BackgroundColor3 = "Element", BorderColor3 = "Border"})

                    Instances:Create("UIGradient", {
                        Parent = SliderItems["RealSlider"].Instance,
                        Name = "\0",
                        Rotation = -165,
                        Color = RGBSequence{RGBSequenceKeypoint(0, FromRGB(255, 255, 255)), RGBSequenceKeypoint(1, FromRGB(208, 208, 208))}
                    }):AddToTheme({
                        Color = function()
                            return RGBSequence{RGBSequenceKeypoint(0, FromRGB(255, 255, 255)), RGBSequenceKeypoint(1, Library.Theme.Gradient)}
                        end
                    })

                    Instances:Create("UIStroke", {
                        Parent = SliderItems["RealSlider"].Instance,
                        Name = "\0",
                        Color = FromRGB(42, 49, 45),
                        LineJoinMode = Enum.LineJoinMode.Miter,
                        ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                    }):AddToTheme({Color = "Outline"})

                    SliderItems["Accent"] = Instances:Create("Frame", {
                        Parent = SliderItems["RealSlider"].Instance,
                        Name = "\0",
                        BorderColor3 = FromRGB(0, 0, 0),
                        Size = UDim2New(0.5, 0, 1, 0),
                        BorderSizePixel = 0,
                        BackgroundColor3 = FromRGB(202, 243, 255)
                    })
                    SliderItems["Accent"]:AddToTheme({BackgroundColor3 = "Accent"})

                    Instances:Create("UIGradient", {
                        Parent = SliderItems["Accent"].Instance,
                        Name = "\0",
                        Rotation = -165,
                        Color = RGBSequence{RGBSequenceKeypoint(0, FromRGB(255, 255, 255)), RGBSequenceKeypoint(1, FromRGB(208, 208, 208))}
                    }):AddToTheme({
                        Color = function()
                            return RGBSequence{RGBSequenceKeypoint(0, FromRGB(255, 255, 255)), RGBSequenceKeypoint(1, Library.Theme.Gradient)}
                        end
                    })

                    SliderItems["Dragger"] = Instances:Create("Frame", {
                        Parent = SliderItems["Accent"].Instance,
                        Name = "\0",
                        AnchorPoint = Vector2New(1, 0.5),
                        Position = UDim2New(1, 0, 0.5, 0),
                        BorderColor3 = FromRGB(42, 49, 45),
                        Size = UDim2New(0, 3, 1, 3),
                        BorderSizePixel = 2,
                        BackgroundColor3 = FromRGB(14, 17, 15)
                    })
                    SliderItems["Dragger"]:AddToTheme({BackgroundColor3 = "Background", BorderColor3 = "Outline"})

                    Instances:Create("UIStroke", {
                        Parent = SliderItems["Dragger"].Instance,
                        Name = "\0",
                        Color = FromRGB(12, 12, 12),
                        LineJoinMode = Enum.LineJoinMode.Miter,
                        ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                    }):AddToTheme({Color = "Border"})

                    SliderItems["Value"] = Instances:Create("TextLabel", {
                        Parent = SliderItems["Slider"].Instance,
                        Name = "\0",
                        FontFace = Library.Font,
                        TextColor3 = FromRGB(235, 235, 235),
                        BorderColor3 = FromRGB(0, 0, 0),
                        Text = "50%",
                        AnchorPoint = Vector2New(1, 0),
                        Size = UDim2New(0, 0, 0, 15),
                        BackgroundTransparency = 1,
                        Position = UDim2New(1, 0, 0, 0),
                        BorderSizePixel = 0,
                        AutomaticSize = Enum.AutomaticSize.X,
                        TextSize = 9,
                        BackgroundColor3 = FromRGB(255, 255, 255)
                    })
                    SliderItems["Value"]:AddToTheme({TextColor3 = "Text"})
                    SliderItems["Value"]:TextBorder()
                end

                function Slider:Get()
                    return Slider.Value
                end

                function Slider:Set(Value)
                    Slider.Value = Library:Round(MathClamp(Value, SliderData.Min, SliderData.Max), SliderData.Decimals)
                    Library.Flags[Slider.Flag] = Slider.Value

                    SliderItems["Accent"]:Tween(TweenInfo.new(Library.Tween.Time, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {Size = UDim2New((Slider.Value - SliderData.Min) / (SliderData.Max - SliderData.Min), 0, 1, 0)})
                    SliderItems["Value"].Instance.Text = StringFormat("%s%s", tostring(Slider.Value), SliderData.Suffix)

                    if SliderData.Callback then
                        Library:SafeCall(SliderData.Callback, Slider.Value)
                    end
                end

                local InputChanged

                SliderItems["RealSlider"]:Connect("InputBegan", function(Input)
                    if Input.UserInputType == Enum.UserInputType.MouseButton1 or Input.UserInputType == Enum.UserInputType.Touch then
                        Slider.Sliding = true

                        local SizeX = (Mouse.X - SliderItems["RealSlider"].Instance.AbsolutePosition.X) / SliderItems["RealSlider"].Instance.AbsoluteSize.X
                        local Value = ((SliderData.Max - SliderData.Min) * SizeX) + SliderData.Min

                        Slider:Set(Value)

                        if InputChanged then
                            return
                        end

                        InputChanged = Input.Changed:Connect(function()
                            if Input.UserInputState == Enum.UserInputState.End then
                                Slider.Sliding = false

                                InputChanged:Disconnect()
                                InputChanged = nil
                            end
                        end)
                    end
                end)

                Library:Connect(UserInputService.InputChanged, function(Input)
                    if Input.UserInputType == Enum.UserInputType.MouseMovement or Input.UserInputType == Enum.UserInputType.Touch then
                        if Slider.Sliding then
                            local SizeX = (Mouse.X - SliderItems["RealSlider"].Instance.AbsolutePosition.X) / SliderItems["RealSlider"].Instance.AbsoluteSize.X
                            local Value = ((SliderData.Max - SliderData.Min) * SizeX) + SliderData.Min

                            Slider:Set(Value)
                        end
                    end
                end)

                SliderItems["Slider"]:OnHover(function()
                    SliderItems["RealSlider"]:ChangeItemTheme({BackgroundColor3 = "Hovered Element", BorderColor3 = "Border"})
                    SliderItems["RealSlider"]:Tween(nil, {BackgroundColor3 = Library.Theme["Hovered Element"]})
                end)

                SliderItems["Slider"]:OnHoverLeave(function()
                    SliderItems["RealSlider"]:ChangeItemTheme({BackgroundColor3 = "Element", BorderColor3 = "Border"})
                    SliderItems["RealSlider"]:Tween(nil, {BackgroundColor3 = Library.Theme.Element})
                end)

                if SliderData.Default then
                    Slider:Set(SliderData.Default)
                end

                Library.SetFlags[Slider.Flag] = function(Value)
                    Slider:Set(Value)
                end

                return Slider
            end

            -- Label
            function Page:CreateLabel(LabelData)
                LabelData = LabelData or {}
                LabelData.Name = LabelData.Name or "Label"
                LabelData.Column = LabelData.Column or 1

                local Label = {}

                local LabelItems = {} do
                    LabelItems["Label"] = Instances:Create("Frame", {
                        Parent = Page.ColumnsData[LabelData.Column].Instance,
                        Name = "\0",
                        BackgroundTransparency = 1,
                        BorderColor3 = FromRGB(0, 0, 0),
                        Size = UDim2New(1, 0, 0, 15),
                        BorderSizePixel = 0,
                        BackgroundColor3 = FromRGB(255, 255, 255)
                    })

                    LabelItems["Text"] = Instances:Create("TextLabel", {
                        Parent = LabelItems["Label"].Instance,
                        Name = "\0",
                        FontFace = Library.Font,
                        TextColor3 = FromRGB(235, 235, 235),
                        BorderColor3 = FromRGB(0, 0, 0),
                        Text = LabelData.Name,
                        Size = UDim2New(0, 0, 0, 15),
                        AnchorPoint = Vector2New(0, 0.5),
                        Position = UDim2New(0, 0, 0.5, 0),
                        BackgroundTransparency = 1,
                        TextXAlignment = Enum.TextXAlignment.Left,
                        BorderSizePixel = 0,
                        AutomaticSize = Enum.AutomaticSize.X,
                        TextSize = 9,
                        BackgroundColor3 = FromRGB(255, 255, 255)
                    })
                    LabelItems["Text"]:AddToTheme({TextColor3 = "Text"})
                    LabelItems["Text"]:TextBorder()
                end

                function Label:SetText(Text)
                    Text = tostring(Text)
                    LabelItems["Text"].Instance.Text = Text
                end

                return Label
            end

            -- Button
            function Page:CreateButton(ButtonData)
                ButtonData = ButtonData or {}
                ButtonData.Name = ButtonData.Name or "Button"
                ButtonData.Callback = ButtonData.Callback or function() end
                ButtonData.Column = ButtonData.Column or 1

                local Button = {}

                local ButtonItems = {} do
                    ButtonItems["Button"] = Instances:Create("TextButton", {
                        Parent = Page.ColumnsData[ButtonData.Column].Instance,
                        Name = "\0",
                        FontFace = Library.Font,
                        TextColor3 = FromRGB(0, 0, 0),
                        BorderColor3 = FromRGB(12, 12, 12),
                        Text = "",
                        AutoButtonColor = false,
                        Size = UDim2New(1, 0, 0, 20),
                        BorderSizePixel = 2,
                        TextSize = 14,
                        BackgroundColor3 = FromRGB(30, 36, 31)
                    })
                    ButtonItems["Button"]:AddToTheme({BackgroundColor3 = "Element", BorderColor3 = "Border"})

                    Instances:Create("UIGradient", {
                        Parent = ButtonItems["Button"].Instance,
                        Name = "\0",
                        Rotation = -165,
                        Color = RGBSequence{RGBSequenceKeypoint(0, FromRGB(255, 255, 255)), RGBSequenceKeypoint(1, FromRGB(208, 208, 208))}
                    }):AddToTheme({
                        Color = function()
                            return RGBSequence{RGBSequenceKeypoint(0, FromRGB(255, 255, 255)), RGBSequenceKeypoint(1, Library.Theme.Gradient)}
                        end
                    })

                    Instances:Create("UIStroke", {
                        Parent = ButtonItems["Button"].Instance,
                        Name = "\0",
                        Color = FromRGB(42, 49, 45),
                        LineJoinMode = Enum.LineJoinMode.Miter,
                        ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                    }):AddToTheme({Color = "Outline"})

                    ButtonItems["Text"] = Instances:Create("TextLabel", {
                        Parent = ButtonItems["Button"].Instance,
                        Name = "\0",
                        FontFace = Library.Font,
                        TextColor3 = FromRGB(235, 235, 235),
                        BorderColor3 = FromRGB(0, 0, 0),
                        Text = ButtonData.Name,
                        BackgroundTransparency = 1,
                        Size = UDim2New(1, 0, 1, 0),
                        BorderSizePixel = 0,
                        TextSize = 9,
                        BackgroundColor3 = FromRGB(255, 255, 255)
                    })
                    ButtonItems["Text"]:AddToTheme({TextColor3 = "Text"})
                    ButtonItems["Text"]:TextBorder()
                end

                function Button:Press()
                    ButtonItems["Button"]:ChangeItemTheme({BackgroundColor3 = "Accent", BorderColor3 = "Border"})
                    ButtonItems["Button"]:Tween(nil, {BackgroundColor3 = Library.Theme.Accent})

                    Library:SafeCall(ButtonData.Callback)
                    task.wait(0.1)

                    ButtonItems["Button"]:ChangeItemTheme({BackgroundColor3 = "Element", BorderColor3 = "Border"})
                    ButtonItems["Button"]:Tween(nil, {BackgroundColor3 = Library.Theme.Element})
                end

                ButtonItems["Button"]:OnHover(function()
                    ButtonItems["Button"]:ChangeItemTheme({BackgroundColor3 = "Hovered Element", BorderColor3 = "Border"})
                    ButtonItems["Button"]:Tween(nil, {BackgroundColor3 = Library.Theme["Hovered Element"]})
                end)

                ButtonItems["Button"]:OnHoverLeave(function()
                    ButtonItems["Button"]:ChangeItemTheme({BackgroundColor3 = "Element", BorderColor3 = "Border"})
                    ButtonItems["Button"]:Tween(nil, {BackgroundColor3 = Library.Theme.Element})
                end)

                ButtonItems["Button"]:Connect("MouseButton1Down", function()
                    Button:Press()
                end)

                return Button
            end

            PageItems["Button"]:Connect("MouseButton1Down", function()
                for Index, Value in Window.Pages do
                    if Value == Page and Page.Active then
                        return
                    end

                    Value:Turn(Value == Page)
                end
            end)

            PageItems["Button"]:OnHover(function()
                PageItems["Button"]:ChangeItemTheme({BackgroundColor3 = "Hovered Element", BorderColor3 = "Border"})
                PageItems["Button"]:Tween(nil, {BackgroundColor3 = Library.Theme["Hovered Element"]})
            end)

            PageItems["Button"]:OnHoverLeave(function()
                PageItems["Button"]:ChangeItemTheme({BackgroundColor3 = "Page Background", BorderColor3 = "Border"})
                PageItems["Button"]:Tween(nil, {BackgroundColor3 = Library.Theme["Page Background"]})
            end)

            if #Window.Pages == 0 then
                Page:Turn(true)
            end

            TableInsert(Window.Pages, Page)
            return Page
        end

        return Window
    end

    -- Toggle menu visibility
    Library:Connect(UserInputService.InputBegan, function(Input)
        if Input.KeyCode == Enum.KeyCode[Library.MenuKeybind] then
            Library.Holder.Instance.Enabled = not Library.Holder.Instance.Enabled
        end
    end)
end

getgenv().Library = Library

print(StringFormat("UI Library loaded in %.2fms", (os.clock() - LoadTick) * 1000))

return Library
