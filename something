-- [Modified Hyperlib with Linoria-style Box Layout & Config System]
-- [Enhanced with Config Management]

if not game:IsLoaded() then
	game.Loaded:Wait()
end

local LocalPlayer = game:GetService('Players').LocalPlayer
local Tween = game:GetService('TweenService')
local Run = game:GetService('RunService')
local Core = (gethui and gethui()) or game:FindFirstChild'CoreGui' or LocalPlayer.PlayerGui
local UIS = game:GetService('UserInputService')
local TextService = game:GetService('TextService')
local ProtectGui = protectgui or (syn and syn.protect_gui) or (function() end)
local HttpService = game:GetService('HttpService')

local function ToDefault(val, def)
	return val or def
end

local NoHyper = {
	Theme = {
		BACKGROUND = Color3.fromRGB(20, 20, 25),
		SECTION = Color3.fromRGB(28, 28, 35),
		MAIN = Color3.fromRGB(189, 48, 37),
		STROKE = Color3.fromRGB(15, 15, 20),
		TOUCH = Color3.fromRGB(103, 26, 20),
		SYSTEM = Color3.fromRGB(225, 57, 44),
		TEXT = Color3.fromRGB(220, 220, 220)
	},
	AutoUpdate = {},
	SectionWidth = 0.96,
	ConfigData = {},
	ConfigCallbacks = {}
}

-- Config System
local ConfigSystem = {}
ConfigSystem.__index = ConfigSystem

function ConfigSystem.new(folderName)
	local self = setmetatable({}, ConfigSystem)
	self.FolderName = folderName or "HyperConfig"
	self.CurrentConfig = "default"
	self.Configs = {}
	self.AutoSaveEnabled = false
	self.AutoSaveInterval = 60
	
	if not isfolder(self.FolderName) then
		makefolder(self.FolderName)
	end
	
	self:LoadConfigList()
	return self
end

function ConfigSystem:LoadConfigList()
	if not isfolder(self.FolderName) then return end
	self.Configs = {}
	for _, file in ipairs(listfiles(self.FolderName)) do
		if file:match("%.json$") then
			local name = file:match("([^/\\]+)%.json$")
			table.insert(self.Configs, name)
		end
	end
end

function ConfigSystem:Save(configName)
	configName = configName or self.CurrentConfig
	local path = self.FolderName .. "/" .. configName .. ".json"
	local success, err = pcall(function()
		writefile(path, HttpService:JSONEncode(NoHyper.ConfigData))
	end)
	return success
end

function ConfigSystem:Load(configName)
	configName = configName or self.CurrentConfig
	local path = self.FolderName .. "/" .. configName .. ".json"
	
	if not isfile(path) then return false end
	
	local success, data = pcall(function()
		return HttpService:JSONDecode(readfile(path))
	end)
	
	if success and data then
		NoHyper.ConfigData = data
		for key, callback in pairs(NoHyper.ConfigCallbacks) do
			if data[key] ~= nil then
				pcall(callback, data[key])
			end
		end
		return true
	end
	return false
end

function ConfigSystem:Delete(configName)
	local path = self.FolderName .. "/" .. configName .. ".json"
	if isfile(path) then
		delfile(path)
		self:LoadConfigList()
		return true
	end
	return false
end

function ConfigSystem:SetAutoSave(enabled, interval)
	self.AutoSaveEnabled = enabled
	self.AutoSaveInterval = interval or 60
	
	if enabled then
		task.spawn(function()
			while self.AutoSaveEnabled do
				task.wait(self.AutoSaveInterval)
				self:Save()
			end
		end)
	end
end

function NoHyper.set_theme(name)
	name = name:lower()
	if name == 'nohyper' then
		NoHyper.Theme.BACKGROUND = Color3.fromRGB(20, 20, 25)
		NoHyper.Theme.SECTION = Color3.fromRGB(28, 28, 35)
		NoHyper.Theme.MAIN = Color3.fromRGB(189, 48, 37)
		NoHyper.Theme.STROKE = Color3.fromRGB(15, 15, 20)
		NoHyper.Theme.TOUCH = Color3.fromRGB(103, 26, 20)
		NoHyper.Theme.SYSTEM = Color3.fromRGB(225, 57, 44)
	elseif name == 'neverlose' then
		NoHyper.Theme.BACKGROUND = Color3.fromRGB(3, 15, 32)
		NoHyper.Theme.SECTION = Color3.fromRGB(4, 19, 43)
		NoHyper.Theme.MAIN = Color3.fromRGB(69, 185, 217)
		NoHyper.Theme.STROKE = Color3.fromRGB(12, 55, 111)
		NoHyper.Theme.TOUCH = Color3.fromRGB(69, 181, 248)
		NoHyper.Theme.SYSTEM = Color3.fromRGB(74, 202, 234)
	elseif name == 'green' then
		NoHyper.Theme.BACKGROUND = Color3.fromRGB(3, 24, 19)
		NoHyper.Theme.SECTION = Color3.fromRGB(4, 29, 23)
		NoHyper.Theme.MAIN = Color3.fromRGB(75, 246, 138)
		NoHyper.Theme.STROKE = Color3.fromRGB(15, 35, 31)
		NoHyper.Theme.TOUCH = Color3.fromRGB(57, 186, 104)
		NoHyper.Theme.SYSTEM = Color3.fromRGB(75, 246, 138)
	end
end

local function Signal(list)
	local k = {}
	for i, v in ipairs(list) do
		k[v.name] = v.callback
	end
	return k
end

function NoHyper.new(WindowName, WindowLogo, WindowDescription)
	local HyperWindow = {
		Tabs = {},
		Size = UDim2.new(0, 650, 0, 400),
		Toggle = Enum.KeyCode.LeftControl,
		ConfigSystem = ConfigSystem.new("HyperLib_" .. (WindowName or "Default"):gsub("%s", ""))
	}

	WindowName = ToDefault(WindowName, 'NoHyper UI')
	WindowLogo = ToDefault(WindowLogo, 'rbxassetid://16530565354')
	WindowDescription = ToDefault(WindowDescription, 'Box-style Layout')

	local NoHyperUI = Instance.new("ScreenGui")
	local MainFrame = Instance.new("Frame")
	local Container = Instance.new("Frame")
	local UICorner = Instance.new("UICorner")
	local TopBar = Instance.new("Frame")
	local Title = Instance.new("TextLabel")
	local CloseButton = Instance.new("TextButton")
	local TabContainer = Instance.new("Frame")
	local TabList = Instance.new("ScrollingFrame")
	local UIListLayout = Instance.new("UIListLayout")
	local ContentFrame = Instance.new("Frame")
	local DropShadow = Instance.new("ImageLabel")

	HyperWindow.ScreenSource = NoHyperUI

	NoHyperUI.Name = "UI_" .. tostring(math.random(1000, 9999))
	NoHyperUI.Parent = Core
	NoHyperUI.ResetOnSpawn = false
	NoHyperUI.IgnoreGuiInset = true
	NoHyperUI.ZIndexBehavior = Enum.ZIndexBehavior.Global
	ProtectGui(NoHyperUI)

	MainFrame.Name = "MainFrame"
	MainFrame.Parent = NoHyperUI
	MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
	MainFrame.BackgroundTransparency = 1
	MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
	MainFrame.Size = HyperWindow.Size
	MainFrame.Active = true

	Container.Name = "Container"
	Container.Parent = MainFrame
	Container.BackgroundColor3 = NoHyper.Theme.BACKGROUND
	Container.BorderSizePixel = 0
	Container.Size = UDim2.new(1, 0, 1, 0)
	Container.ClipsDescendants = true

	UICorner.CornerRadius = UDim.new(0, 6)
	UICorner.Parent = Container

	TopBar.Name = "TopBar"
	TopBar.Parent = Container
	TopBar.BackgroundColor3 = NoHyper.Theme.SECTION
	TopBar.BorderSizePixel = 0
	TopBar.Size = UDim2.new(1, 0, 0, 30)

	local TopCorner = Instance.new("UICorner")
	TopCorner.CornerRadius = UDim.new(0, 6)
	TopCorner.Parent = TopBar

	local TopCover = Instance.new("Frame")
	TopCover.Parent = TopBar
	TopCover.BackgroundColor3 = NoHyper.Theme.SECTION
	TopCover.BorderSizePixel = 0
	TopCover.Position = UDim2.new(0, 0, 1, -6)
	TopCover.Size = UDim2.new(1, 0, 0, 6)

	Title.Name = "Title"
	Title.Parent = TopBar
	Title.BackgroundTransparency = 1
	Title.Position = UDim2.new(0, 10, 0, 0)
	Title.Size = UDim2.new(0.7, -10, 1, 0)
	Title.Font = Enum.Font.GothamBold
	Title.Text = WindowName
	Title.TextColor3 = NoHyper.Theme.TEXT
	Title.TextSize = 14
	Title.TextXAlignment = Enum.TextXAlignment.Left

	CloseButton.Name = "Close"
	CloseButton.Parent = TopBar
	CloseButton.AnchorPoint = Vector2.new(1, 0.5)
	CloseButton.BackgroundColor3 = NoHyper.Theme.MAIN
	CloseButton.Position = UDim2.new(1, -5, 0.5, 0)
	CloseButton.Size = UDim2.new(0, 20, 0, 20)
	CloseButton.Font = Enum.Font.GothamBold
	CloseButton.Text = "X"
	CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
	CloseButton.TextSize = 12

	local CloseCorner = Instance.new("UICorner")
	CloseCorner.CornerRadius = UDim.new(0, 4)
	CloseCorner.Parent = CloseButton

	TabContainer.Name = "Tabs"
	TabContainer.Parent = Container
	TabContainer.BackgroundColor3 = NoHyper.Theme.SECTION
	TabContainer.BorderSizePixel = 0
	TabContainer.Position = UDim2.new(0, 5, 0, 35)
	TabContainer.Size = UDim2.new(0, 140, 1, -40)

	local TabCorner = Instance.new("UICorner")
	TabCorner.CornerRadius = UDim.new(0, 5)
	TabCorner.Parent = TabContainer

	TabList.Parent = TabContainer
	TabList.BackgroundTransparency = 1
	TabList.BorderSizePixel = 0
	TabList.Position = UDim2.new(0, 5, 0, 5)
	TabList.Size = UDim2.new(1, -10, 1, -10)
	TabList.ScrollBarThickness = 4
	TabList.ScrollBarImageColor3 = NoHyper.Theme.MAIN

	UIListLayout.Parent = TabList
	UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
	UIListLayout.Padding = UDim.new(0, 4)

	ContentFrame.Name = "Content"
	ContentFrame.Parent = Container
	ContentFrame.BackgroundTransparency = 1
	ContentFrame.Position = UDim2.new(0, 150, 0, 35)
	ContentFrame.Size = UDim2.new(1, -155, 1, -40)
	ContentFrame.ClipsDescendants = true

	DropShadow.Name = "Shadow"
	DropShadow.Parent = Container
	DropShadow.AnchorPoint = Vector2.new(0.5, 0.5)
	DropShadow.BackgroundTransparency = 1
	DropShadow.Position = UDim2.new(0.5, 0, 0.5, 0)
	DropShadow.Size = UDim2.new(1, 30, 1, 30)
	DropShadow.ZIndex = 0
	DropShadow.Image = "rbxassetid://6015897843"
	DropShadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
	DropShadow.ImageTransparency = 0.5
	DropShadow.ScaleType = Enum.ScaleType.Slice
	DropShadow.SliceCenter = Rect.new(49, 49, 450, 450)

	-- Scrolling helper
	local function updateScroll(frame)
		task.spawn(function()
			local layout = frame:FindFirstChildOfClass("UIListLayout") or frame:WaitForChild("UIListLayout", 5)
			if layout then
				frame.CanvasSize = UDim2.new(0, 0, 0, layout.AbsoluteContentSize.Y + 10)
				layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
					frame.CanvasSize = UDim2.new(0, 0, 0, layout.AbsoluteContentSize.Y + 10)
				end)
			end
		end)
	end

	updateScroll(TabList)

	function HyperWindow:NewTab(TabName, TabIcon)
		local TabController = {Sections = {}}

		local TabButton = Instance.new("TextButton")
		local TabFrame = Instance.new("ScrollingFrame")
		local TabLayout = Instance.new("UIListLayout")

		TabButton.Name = TabName
		TabButton.Parent = TabList
		TabButton.BackgroundColor3 = NoHyper.Theme.BACKGROUND
		TabButton.Size = UDim2.new(1, 0, 0, 32)
		TabButton.Font = Enum.Font.GothamMedium
		TabButton.Text = TabName
		TabButton.TextColor3 = NoHyper.Theme.TEXT
		TabButton.TextSize = 12
		TabButton.TextXAlignment = Enum.TextXAlignment.Left

		local BtnCorner = Instance.new("UICorner")
		BtnCorner.CornerRadius = UDim.new(0, 4)
		BtnCorner.Parent = TabButton

		local BtnPadding = Instance.new("UIPadding")
		BtnPadding.PaddingLeft = UDim.new(0, 8)
		BtnPadding.Parent = TabButton

		TabFrame.Name = TabName .. "Frame"
		TabFrame.Parent = ContentFrame
		TabFrame.BackgroundTransparency = 1
		TabFrame.Size = UDim2.new(1, 0, 1, 0)
		TabFrame.Visible = false
		TabFrame.ScrollBarThickness = 4
		TabFrame.ScrollBarImageColor3 = NoHyper.Theme.MAIN

		TabLayout.Parent = TabFrame
		TabLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
		TabLayout.SortOrder = Enum.SortOrder.LayoutOrder
		TabLayout.Padding = UDim.new(0, 8)

		updateScroll(TabFrame)

		local function setActive(active)
			if active then
				TabFrame.Visible = true
				TabButton.BackgroundColor3 = NoHyper.Theme.MAIN
				TabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
			else
				TabFrame.Visible = false
				TabButton.BackgroundColor3 = NoHyper.Theme.BACKGROUND
				TabButton.TextColor3 = NoHyper.Theme.TEXT
			end
		end

		if #HyperWindow.Tabs == 0 then
			setActive(true)
		else
			setActive(false)
		end

		table.insert(HyperWindow.Tabs, {TabFrame, setActive})

		TabButton.MouseButton1Click:Connect(function()
			for _, v in ipairs(HyperWindow.Tabs) do
				if v[1] == TabFrame then
					v[2](true)
				else
					v[2](false)
				end
			end
		end)

		function TabController:NewSection(SectionName)
			local SectionController = {}

			local Section = Instance.new("Frame")
			local SectionCorner = Instance.new("UICorner")
			local SectionStroke = Instance.new("UIStroke")
			local SectionTitle = Instance.new("TextLabel")
			local SectionContent = Instance.new("Frame")
			local SectionLayout = Instance.new("UIListLayout")

			Section.Name = SectionName
			Section.Parent = TabFrame
			Section.BackgroundColor3 = NoHyper.Theme.SECTION
			Section.Size = UDim2.new(0.98, 0, 0, 30)

			SectionCorner.CornerRadius = UDim.new(0, 5)
			SectionCorner.Parent = Section

			SectionStroke.Color = NoHyper.Theme.STROKE
			SectionStroke.Parent = Section

			SectionTitle.Name = "Title"
			SectionTitle.Parent = Section
			SectionTitle.BackgroundTransparency = 1
			SectionTitle.Position = UDim2.new(0, 8, 0, 0)
			SectionTitle.Size = UDim2.new(1, -16, 0, 25)
			SectionTitle.Font = Enum.Font.GothamBold
			SectionTitle.Text = SectionName
			SectionTitle.TextColor3 = NoHyper.Theme.MAIN
			SectionTitle.TextSize = 12
			SectionTitle.TextXAlignment = Enum.TextXAlignment.Left

			SectionContent.Name = "Content"
			SectionContent.Parent = Section
			SectionContent.BackgroundTransparency = 1
			SectionContent.Position = UDim2.new(0, 0, 0, 25)
			SectionContent.Size = UDim2.new(1, 0, 1, -25)

			SectionLayout.Parent = SectionContent
			SectionLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
			SectionLayout.SortOrder = Enum.SortOrder.LayoutOrder
			SectionLayout.Padding = UDim.new(0, 4)

			function SectionController.update()
				local totalHeight = 30
				for _, child in ipairs(SectionContent:GetChildren()) do
					if child:IsA("Frame") or child:IsA("TextButton") then
						totalHeight = totalHeight + child.AbsoluteSize.Y + 4
					end
				end
				Section.Size = UDim2.new(0.98, 0, 0, totalHeight)
			end

			table.insert(NoHyper.AutoUpdate, SectionController.update)

			function SectionController:AddButton(ButtonName, callback)
				local configKey = SectionName .. "_" .. ButtonName

				local Button = Instance.new("TextButton")
				local ButtonCorner = Instance.new("UICorner")

				Button.Name = ButtonName
				Button.Parent = SectionContent
				Button.BackgroundColor3 = NoHyper.Theme.BACKGROUND
				Button.Size = UDim2.new(0.95, 0, 0, 28)
				Button.Font = Enum.Font.GothamMedium
				Button.Text = ButtonName
				Button.TextColor3 = NoHyper.Theme.TEXT
				Button.TextSize = 11

				ButtonCorner.CornerRadius = UDim.new(0, 4)
				ButtonCorner.Parent = Button

				Button.MouseEnter:Connect(function()
					Tween:Create(Button, TweenInfo.new(0.1), {BackgroundColor3 = NoHyper.Theme.TOUCH}):Play()
				end)

				Button.MouseLeave:Connect(function()
					Tween:Create(Button, TweenInfo.new(0.1), {BackgroundColor3 = NoHyper.Theme.BACKGROUND}):Play()
				end)

				Button.MouseButton1Click:Connect(callback or function() end)

				SectionController.update()

				return Signal({
					{name = 'Text', callback = function(...) Button.Text = tostring(...) end},
					{name = 'Fire', callback = callback}
				})
			end

			function SectionController:AddToggle(ToggleName, Default, callback)
				local configKey = SectionName .. "_" .. ToggleName
				Default = Default or false
				callback = callback or function() end

				local Toggle = Instance.new("Frame")
				local ToggleCorner = Instance.new("UICorner")
				local Label = Instance.new("TextLabel")
				local Switch = Instance.new("Frame")
				local SwitchCorner = Instance.new("UICorner")
				local Indicator = Instance.new("Frame")
				local IndicatorCorner = Instance.new("UICorner")
				local Button = Instance.new("TextButton")

				Toggle.Name = ToggleName
				Toggle.Parent = SectionContent
				Toggle.BackgroundColor3 = NoHyper.Theme.BACKGROUND
				Toggle.Size = UDim2.new(0.95, 0, 0, 28)

				ToggleCorner.CornerRadius = UDim.new(0, 4)
				ToggleCorner.Parent = Toggle

				Label.Parent = Toggle
				Label.BackgroundTransparency = 1
				Label.Position = UDim2.new(0, 8, 0, 0)
				Label.Size = UDim2.new(0.7, -8, 1, 0)
				Label.Font = Enum.Font.GothamMedium
				Label.Text = ToggleName
				Label.TextColor3 = NoHyper.Theme.TEXT
				Label.TextSize = 11
				Label.TextXAlignment = Enum.TextXAlignment.Left

				Switch.Name = "Switch"
				Switch.Parent = Toggle
				Switch.AnchorPoint = Vector2.new(1, 0.5)
				Switch.BackgroundColor3 = NoHyper.Theme.STROKE
				Switch.Position = UDim2.new(1, -8, 0.5, 0)
				Switch.Size = UDim2.new(0, 36, 0, 16)

				SwitchCorner.CornerRadius = UDim.new(1, 0)
				SwitchCorner.Parent = Switch

				Indicator.Parent = Switch
				Indicator.AnchorPoint = Vector2.new(0, 0.5)
				Indicator.BackgroundColor3 = Color3.fromRGB(200, 200, 200)
				Indicator.Position = UDim2.new(0, 2, 0.5, 0)
				Indicator.Size = UDim2.new(0, 12, 0, 12)

				IndicatorCorner.CornerRadius = UDim.new(1, 0)
				IndicatorCorner.Parent = Indicator

				Button.Parent = Toggle
				Button.BackgroundTransparency = 1
				Button.Size = UDim2.new(1, 0, 1, 0)
				Button.Text = ""
				Button.ZIndex = 2

				local function setState(value)
					Default = value
					if value then
						Tween:Create(Switch, TweenInfo.new(0.2), {BackgroundColor3 = NoHyper.Theme.MAIN}):Play()
						Tween:Create(Indicator, TweenInfo.new(0.2), {Position = UDim2.new(1, -14, 0.5, 0), BackgroundColor3 = Color3.fromRGB(255, 255, 255)}):Play()
					else
						Tween:Create(Switch, TweenInfo.new(0.2), {BackgroundColor3 = NoHyper.Theme.STROKE}):Play()
						Tween:Create(Indicator, TweenInfo.new(0.2), {Position = UDim2.new(0, 2, 0.5, 0), BackgroundColor3 = Color3.fromRGB(200, 200, 200)}):Play()
					end
					NoHyper.ConfigData[configKey] = value
					callback(value)
				end

				if NoHyper.ConfigData[configKey] ~= nil then
					Default = NoHyper.ConfigData[configKey]
				end

				NoHyper.ConfigCallbacks[configKey] = setState

				setState(Default)

				Button.MouseButton1Click:Connect(function()
					setState(not Default)
				end)

				SectionController.update()

				return Signal({
					{name = 'Text', callback = function(...) Label.Text = tostring(...) end},
					{name = 'Value', callback = setState},
					{name = 'Get', callback = function() return Default end}
				})
			end

			function SectionController:AddSlider(SliderName, Value, callback)
				local configKey = SectionName .. "_" .. SliderName
				Value = Value or {}
				Value.Min = Value.Min or 1
				Value.Max = Value.Max or 100
				Value.Default = Value.Default or Value.Min
				Value.ValueT = Value.ValueT or ''
				callback = callback or function() end

				local Slider = Instance.new("Frame")
				local SliderCorner = Instance.new("UICorner")
				local Label = Instance.new("TextLabel")
				local ValueLabel = Instance.new("TextLabel")
				local SliderTrack = Instance.new("Frame")
				local TrackCorner = Instance.new("UICorner")
				local SliderFill = Instance.new("Frame")
				local FillCorner = Instance.new("UICorner")

				Slider.Name = SliderName
				Slider.Parent = SectionContent
				Slider.BackgroundColor3 = NoHyper.Theme.BACKGROUND
				Slider.Size = UDim2.new(0.95, 0, 0, 40)

				SliderCorner.CornerRadius = UDim.new(0, 4)
				SliderCorner.Parent = Slider

				Label.Parent = Slider
				Label.BackgroundTransparency = 1
				Label.Position = UDim2.new(0, 8, 0, 4)
				Label.Size = UDim2.new(0.6, -8, 0, 14)
				Label.Font = Enum.Font.GothamMedium
				Label.Text = SliderName
				Label.TextColor3 = NoHyper.Theme.TEXT
				Label.TextSize = 11
				Label.TextXAlignment = Enum.TextXAlignment.Left

				ValueLabel.Parent = Slider
				ValueLabel.BackgroundTransparency = 1
				ValueLabel.Position = UDim2.new(0.6, 0, 0, 4)
				ValueLabel.Size = UDim2.new(0.4, -8, 0, 14)
				ValueLabel.Font = Enum.Font.GothamMedium
				ValueLabel.Text = tostring(Value.Default) .. Value.ValueT
				ValueLabel.TextColor3 = NoHyper.Theme.MAIN
				ValueLabel.TextSize = 11
				ValueLabel.TextXAlignment = Enum.TextXAlignment.Right

				SliderTrack.Name = "Track"
				SliderTrack.Parent = Slider
				SliderTrack.BackgroundColor3 = NoHyper.Theme.STROKE
				SliderTrack.Position = UDim2.new(0, 8, 1, -14)
				SliderTrack.Size = UDim2.new(1, -16, 0, 6)

				TrackCorner.CornerRadius = UDim.new(1, 0)
				TrackCorner.Parent = SliderTrack

				SliderFill.Name = "Fill"
				SliderFill.Parent = SliderTrack
				SliderFill.BackgroundColor3 = NoHyper.Theme.MAIN
				SliderFill.Size = UDim2.new(0, 0, 1, 0)

				FillCorner.CornerRadius = UDim.new(1, 0)
				FillCorner.Parent = SliderFill

				local dragging = false

				local function update(input)
					local sizeScale = math.clamp((input.Position.X - SliderTrack.AbsolutePosition.X) / SliderTrack.AbsoluteSize.X, 0, 1)
					local value = math.floor(((Value.Max - Value.Min) * sizeScale) + Value.Min)
					Value.Default = value
					ValueLabel.Text = tostring(value) .. Value.ValueT
					Tween:Create(SliderFill, TweenInfo.new(0.1), {Size = UDim2.new(sizeScale, 0, 1, 0)}):Play()
					NoHyper.ConfigData[configKey] = value
					callback(value)
				end

				if NoHyper.ConfigData[configKey] ~= nil then
					Value.Default = NoHyper.ConfigData[configKey]
					ValueLabel.Text = tostring(Value.Default) .. Value.ValueT
					SliderFill.Size = UDim2.new((Value.Default - Value.Min) / (Value.Max - Value.Min), 0, 1, 0)
				end

				NoHyper.ConfigCallbacks[configKey] = function(v)
					Value.Default = v
					ValueLabel.Text = tostring(v) .. Value.ValueT
					Tween:Create(SliderFill, TweenInfo.new(0.1), {Size = UDim2.new((v - Value.Min) / (Value.Max - Value.Min), 0, 1, 0)}):Play()
					callback(v)
				end

				SliderTrack.InputBegan:Connect(function(input)
					if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
						dragging = true
						update(input)
					end
				end)

				SliderTrack.InputEnded:Connect(function(input)
					if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
						dragging = false
					end
				end)

				UIS.InputChanged:Connect(function(input)
					if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
						update(input)
					end
				end)

				SectionController.update()

				return Signal({
					{name = 'Text', callback = function(...) Label.Text = tostring(...) end},
					{name = 'Value', callback = function(v)
						Value.Default = v
						ValueLabel.Text = tostring(v) .. Value.ValueT
						SliderFill.Size = UDim2.new((v - Value.Min) / (Value.Max - Value.Min), 0, 1, 0)
						NoHyper.ConfigData[configKey] = v
						callback(v)
					end},
					{name = 'Get', callback = function() return Value.Default end}
				})
			end

			function SectionController:AddDropdown(DropdownName, Options, Default, callback)
				local configKey = SectionName .. "_" .. DropdownName
				Options = Options or {}
				Default = Default or Options[1]
				callback = callback or function() end

				local Dropdown = Instance.new("Frame")
				local DropdownCorner = Instance.new("UICorner")
				local Label = Instance.new("TextLabel")
				local ValueLabel = Instance.new("TextLabel")
				local Arrow = Instance.new("TextLabel")
				local Button = Instance.new("TextButton")
				local DropList = Instance.new("Frame")
				local ListCorner = Instance.new("UICorner")
				local ListScroll = Instance.new("ScrollingFrame")
				local ListLayout = Instance.new("UIListLayout")

				Dropdown.Name = DropdownName
				Dropdown.Parent = SectionContent
				Dropdown.BackgroundColor3 = NoHyper.Theme.BACKGROUND
				Dropdown.Size = UDim2.new(0.95, 0, 0, 28)
				Dropdown.ClipsDescendants = false

				DropdownCorner.CornerRadius = UDim.new(0, 4)
				DropdownCorner.Parent = Dropdown

				Label.Parent = Dropdown
				Label.BackgroundTransparency = 1
				Label.Position = UDim2.new(0, 8, 0, 0)
				Label.Size = UDim2.new(0.5, -8, 1, 0)
				Label.Font = Enum.Font.GothamMedium
				Label.Text = DropdownName
				Label.TextColor3 = NoHyper.Theme.TEXT
				Label.TextSize = 11
				Label.TextXAlignment = Enum.TextXAlignment.Left

				ValueLabel.Parent = Dropdown
				ValueLabel.BackgroundTransparency = 1
				ValueLabel.Position = UDim2.new(0.5, 0, 0, 0)
				ValueLabel.Size = UDim2.new(0.4, -20, 1, 0)
				ValueLabel.Font = Enum.Font.Gotham
				ValueLabel.Text = tostring(Default or "None")
				ValueLabel.TextColor3 = NoHyper.Theme.MAIN
				ValueLabel.TextSize = 10
				ValueLabel.TextXAlignment = Enum.TextXAlignment.Right
				ValueLabel.TextTruncate = Enum.TextTruncate.AtEnd

				Arrow.Parent = Dropdown
				Arrow.BackgroundTransparency = 1
				Arrow.AnchorPoint = Vector2.new(1, 0.5)
				Arrow.Position = UDim2.new(1, -8, 0.5, 0)
				Arrow.Size = UDim2.new(0, 12, 0, 12)
				Arrow.Font = Enum.Font.GothamBold
				Arrow.Text = "▼"
				Arrow.TextColor3 = NoHyper.Theme.TEXT
				Arrow.TextSize = 8

				Button.Parent = Dropdown
				Button.BackgroundTransparency = 1
				Button.Size = UDim2.new(1, 0, 1, 0)
				Button.Text = ""
				Button.ZIndex = 2

				DropList.Name = "List"
				DropList.Parent = Dropdown
				DropList.BackgroundColor3 = NoHyper.Theme.SECTION
				DropList.Position = UDim2.new(0, 0, 1, 2)
				DropList.Size = UDim2.new(1, 0, 0, 0)
				DropList.Visible = false
				DropList.ZIndex = 10

				ListCorner.CornerRadius = UDim.new(0, 4)
				ListCorner.Parent = DropList

				local ListStroke = Instance.new("UIStroke")
				ListStroke.Color = NoHyper.Theme.STROKE
				ListStroke.Parent = DropList

				ListScroll.Parent = DropList
				ListScroll.BackgroundTransparency = 1
				ListScroll.Size = UDim2.new(1, 0, 1, 0)
				ListScroll.ScrollBarThickness = 4
				ListScroll.ScrollBarImageColor3 = NoHyper.Theme.MAIN
				ListScroll.ZIndex = 11

				ListLayout.Parent = ListScroll
				ListLayout.SortOrder = Enum.SortOrder.LayoutOrder
				ListLayout.Padding = UDim.new(0, 2)

				local isOpen = false

				local function toggle()
					isOpen = not isOpen
					if isOpen then
						Arrow.Text = "▲"
						local height = math.min(#Options * 24 + 4, 120)
						DropList.Visible = true
						Tween:Create(DropList, TweenInfo.new(0.2), {Size = UDim2.new(1, 0, 0, height)}):Play()
					else
						Arrow.Text = "▼"
						Tween:Create(DropList, TweenInfo.new(0.2), {Size = UDim2.new(1, 0, 0, 0)}):Play()
						task.wait(0.2)
						DropList.Visible = false
					end
				end

				local function renderOptions()
					for _, child in ipairs(ListScroll:GetChildren()) do
						if child:IsA("TextButton") then
							child:Destroy()
						end
					end

					for _, option in ipairs(Options) do
						local OptionButton = Instance.new("TextButton")
						local OptionCorner = Instance.new("UICorner")

						OptionButton.Parent = ListScroll
						OptionButton.BackgroundColor3 = NoHyper.Theme.BACKGROUND
						OptionButton.Size = UDim2.new(1, -4, 0, 22)
						OptionButton.Font = Enum.Font.GothamMedium
						OptionButton.Text = tostring(option)
						OptionButton.TextColor3 = NoHyper.Theme.TEXT
						OptionButton.TextSize = 10
						OptionButton.ZIndex = 12

						OptionCorner.CornerRadius = UDim.new(0, 3)
						OptionCorner.Parent = OptionButton

						if option == Default then
							OptionButton.BackgroundColor3 = NoHyper.Theme.MAIN
							OptionButton.TextColor3 = Color3.fromRGB(255, 255, 255)
						end

						OptionButton.MouseButton1Click:Connect(function()
							Default = option
							ValueLabel.Text = tostring(option)
							NoHyper.ConfigData[configKey] = option
							callback(option)
							toggle()
							renderOptions()
						end)

						OptionButton.MouseEnter:Connect(function()
							if option ~= Default then
								Tween:Create(OptionButton, TweenInfo.new(0.1), {BackgroundColor3 = NoHyper.Theme.TOUCH}):Play()
							end
						end)

						OptionButton.MouseLeave:Connect(function()
							if option ~= Default then
								Tween:Create(OptionButton, TweenInfo.new(0.1), {BackgroundColor3 = NoHyper.Theme.BACKGROUND}):Play()
							end
						end)
					end

					ListScroll.CanvasSize = UDim2.new(0, 0, 0, ListLayout.AbsoluteContentSize.Y)
				end

				if NoHyper.ConfigData[configKey] ~= nil then
					Default = NoHyper.ConfigData[configKey]
					ValueLabel.Text = tostring(Default)
				end

				NoHyper.ConfigCallbacks[configKey] = function(v)
					Default = v
					ValueLabel.Text = tostring(v)
					callback(v)
					renderOptions()
				end

				renderOptions()

				Button.MouseButton1Click:Connect(toggle)

				SectionController.update()

				return Signal({
					{name = 'Text', callback = function(...) Label.Text = tostring(...) end},
					{name = 'Value', callback = function(v)
						Default = v
						ValueLabel.Text = tostring(v)
						NoHyper.ConfigData[configKey] = v
						callback(v)
						renderOptions()
					end},
					{name = 'Get', callback = function() return Default end},
					{name = 'Refresh', callback = function(newOptions)
						Options = newOptions
						renderOptions()
					end}
				})
			end

			function SectionController:AddConfigSection()
				local configSys = HyperWindow.ConfigSystem

				local ConfigFrame = Instance.new("Frame")
				local ConfigCorner = Instance.new("UICorner")
				local ConfigLabel = Instance.new("TextLabel")
				local ConfigDropdown = Instance.new("Frame")
				local DropdownCorner = Instance.new("UICorner")
				local ConfigName = Instance.new("TextLabel")
				local Arrow = Instance.new("TextLabel")
				local DropButton = Instance.new("TextButton")
				local DropList = Instance.new("Frame")
				local ListCorner = Instance.new("UICorner")
				local ListScroll = Instance.new("ScrollingFrame")
				local ListLayout = Instance.new("UIListLayout")

				local SaveButton = Instance.new("TextButton")
				local SaveCorner = Instance.new("UICorner")
				local LoadButton = Instance.new("TextButton")
				local LoadCorner = Instance.new("UICorner")
				local DeleteButton = Instance.new("TextButton")
				local DeleteCorner = Instance.new("UICorner")
				local AutoSaveToggle = Instance.new("Frame")
				local ASLabel = Instance.new("TextLabel")
				local ASSwitch = Instance.new("Frame")
				local ASSwitchCorner = Instance.new("UICorner")
				local ASIndicator = Instance.new("Frame")
				local ASIndicatorCorner = Instance.new("UICorner")
				local ASButton = Instance.new("TextButton")

				ConfigFrame.Name = "ConfigManager"
				ConfigFrame.Parent = SectionContent
				ConfigFrame.BackgroundColor3 = NoHyper.Theme.BACKGROUND
				ConfigFrame.Size = UDim2.new(0.95, 0, 0, 140)

				ConfigCorner.CornerRadius = UDim.new(0, 4)
				ConfigCorner.Parent = ConfigFrame

				ConfigLabel.Parent = ConfigFrame
				ConfigLabel.BackgroundTransparency = 1
				ConfigLabel.Position = UDim2.new(0, 8, 0, 4)
				ConfigLabel.Size = UDim2.new(1, -16, 0, 16)
				ConfigLabel.Font = Enum.Font.GothamBold
				ConfigLabel.Text = "Config Manager"
				ConfigLabel.TextColor3 = NoHyper.Theme.MAIN
				ConfigLabel.TextSize = 11
				ConfigLabel.TextXAlignment = Enum.TextXAlignment.Left

				ConfigDropdown.Parent = ConfigFrame
				ConfigDropdown.BackgroundColor3 = NoHyper.Theme.SECTION
				ConfigDropdown.Position = UDim2.new(0, 8, 0, 24)
				ConfigDropdown.Size = UDim2.new(1, -16, 0, 26)
				ConfigDropdown.ClipsDescendants = false

				DropdownCorner.CornerRadius = UDim.new(0, 4)
				DropdownCorner.Parent = ConfigDropdown

				ConfigName.Parent = ConfigDropdown
				ConfigName.BackgroundTransparency = 1
				ConfigName.Position = UDim2.new(0, 8, 0, 0)
				ConfigName.Size = UDim2.new(1, -24, 1, 0)
				ConfigName.Font = Enum.Font.Gotham
				ConfigName.Text = configSys.CurrentConfig
				ConfigName.TextColor3 = NoHyper.Theme.TEXT
				ConfigName.TextSize = 10
				ConfigName.TextXAlignment = Enum.TextXAlignment.Left

				Arrow.Parent = ConfigDropdown
				Arrow.BackgroundTransparency = 1
				Arrow.AnchorPoint = Vector2.new(1, 0.5)
				Arrow.Position = UDim2.new(1, -8, 0.5, 0)
				Arrow.Size = UDim2.new(0, 12, 0, 12)
				Arrow.Font = Enum.Font.GothamBold
				Arrow.Text = "▼"
				Arrow.TextColor3 = NoHyper.Theme.TEXT
				Arrow.TextSize = 8

				DropButton.Parent = ConfigDropdown
				DropButton.BackgroundTransparency = 1
				DropButton.Size = UDim2.new(1, 0, 1, 0)
				DropButton.Text = ""
				DropButton.ZIndex = 2

				DropList.Name = "List"
				DropList.Parent = ConfigDropdown
				DropList.BackgroundColor3 = NoHyper.Theme.SECTION
				DropList.Position = UDim2.new(0, 0, 1, 2)
				DropList.Size = UDim2.new(1, 0, 0, 0)
				DropList.Visible = false
				DropList.ZIndex = 10

				ListCorner.CornerRadius = UDim.new(0, 4)
				ListCorner.Parent = DropList

				local ListStroke = Instance.new("UIStroke")
				ListStroke.Color = NoHyper.Theme.STROKE
				ListStroke.Parent = DropList

				ListScroll.Parent = DropList
				ListScroll.BackgroundTransparency = 1
				ListScroll.Size = UDim2.new(1, 0, 1, 0)
				ListScroll.ScrollBarThickness = 4
				ListScroll.ScrollBarImageColor3 = NoHyper.Theme.MAIN
				ListScroll.ZIndex = 11

				ListLayout.Parent = ListScroll
				ListLayout.SortOrder = Enum.SortOrder.LayoutOrder
				ListLayout.Padding = UDim.new(0, 2)

				SaveButton.Parent = ConfigFrame
				SaveButton.BackgroundColor3 = NoHyper.Theme.MAIN
				SaveButton.Position = UDim2.new(0, 8, 0, 56)
				SaveButton.Size = UDim2.new(0.3, -6, 0, 24)
				SaveButton.Font = Enum.Font.GothamBold
				SaveButton.Text = "Save"
				SaveButton.TextColor3 = Color3.fromRGB(255, 255, 255)
				SaveButton.TextSize = 10

				SaveCorner.CornerRadius = UDim.new(0, 4)
				SaveCorner.Parent = SaveButton

				LoadButton.Parent = ConfigFrame
				LoadButton.BackgroundColor3 = NoHyper.Theme.SYSTEM
				LoadButton.Position = UDim2.new(0.35, 0, 0, 56)
				LoadButton.Size = UDim2.new(0.3, -6, 0, 24)
				LoadButton.Font = Enum.Font.GothamBold
				LoadButton.Text = "Load"
				LoadButton.TextColor3 = Color3.fromRGB(255, 255, 255)
				LoadButton.TextSize = 10

				LoadCorner.CornerRadius = UDim.new(0, 4)
				LoadCorner.Parent = LoadButton

				DeleteButton.Parent = ConfigFrame
				DeleteButton.BackgroundColor3 = Color3.fromRGB(180, 50, 50)
				DeleteButton.Position = UDim2.new(0.7, -2, 0, 56)
				DeleteButton.Size = UDim2.new(0.3, -6, 0, 24)
				DeleteButton.Font = Enum.Font.GothamBold
				DeleteButton.Text = "Delete"
				DeleteButton.TextColor3 = Color3.fromRGB(255, 255, 255)
				DeleteButton.TextSize = 10

				DeleteCorner.CornerRadius = UDim.new(0, 4)
				DeleteCorner.Parent = DeleteButton

				AutoSaveToggle.Parent = ConfigFrame
				AutoSaveToggle.BackgroundTransparency = 1
				AutoSaveToggle.Position = UDim2.new(0, 8, 0, 86)
				AutoSaveToggle.Size = UDim2.new(1, -16, 0, 24)

				ASLabel.Parent = AutoSaveToggle
				ASLabel.BackgroundTransparency = 1
				ASLabel.Size = UDim2.new(0.7, 0, 1, 0)
				ASLabel.Font = Enum.Font.GothamMedium
				ASLabel.Text = "Auto-Save (60s)"
				ASLabel.TextColor3 = NoHyper.Theme.TEXT
				ASLabel.TextSize = 10
				ASLabel.TextXAlignment = Enum.TextXAlignment.Left

				ASSwitch.Name = "Switch"
				ASSwitch.Parent = AutoSaveToggle
				ASSwitch.AnchorPoint = Vector2.new(1, 0.5)
				ASSwitch.BackgroundColor3 = NoHyper.Theme.STROKE
				ASSwitch.Position = UDim2.new(1, 0, 0.5, 0)
				ASSwitch.Size = UDim2.new(0, 36, 0, 16)

				ASSwitchCorner.CornerRadius = UDim.new(1, 0)
				ASSwitchCorner.Parent = ASSwitch

				ASIndicator.Parent = ASSwitch
				ASIndicator.AnchorPoint = Vector2.new(0, 0.5)
				ASIndicator.BackgroundColor3 = Color3.fromRGB(200, 200, 200)
				ASIndicator.Position = UDim2.new(0, 2, 0.5, 0)
				ASIndicator.Size = UDim2.new(0, 12, 0, 12)

				ASIndicatorCorner.CornerRadius = UDim.new(1, 0)
				ASIndicatorCorner.Parent = ASIndicator

				ASButton.Parent = AutoSaveToggle
				ASButton.BackgroundTransparency = 1
				ASButton.Size = UDim2.new(1, 0, 1, 0)
				ASButton.Text = ""
				ASButton.ZIndex = 2

				local autoSaveEnabled = false

				local function setAutoSave(value)
					autoSaveEnabled = value
					if value then
						Tween:Create(ASSwitch, TweenInfo.new(0.2), {BackgroundColor3 = NoHyper.Theme.MAIN}):Play()
						Tween:Create(ASIndicator, TweenInfo.new(0.2), {Position = UDim2.new(1, -14, 0.5, 0), BackgroundColor3 = Color3.fromRGB(255, 255, 255)}):Play()
						configSys:SetAutoSave(true, 60)
					else
						Tween:Create(ASSwitch, TweenInfo.new(0.2), {BackgroundColor3 = NoHyper.Theme.STROKE}):Play()
						Tween:Create(ASIndicator, TweenInfo.new(0.2), {Position = UDim2.new(0, 2, 0.5, 0), BackgroundColor3 = Color3.fromRGB(200, 200, 200)}):Play()
						configSys:SetAutoSave(false)
					end
				end

				ASButton.MouseButton1Click:Connect(function()
					setAutoSave(not autoSaveEnabled)
				end)

				local isOpen = false

				local function toggleDrop()
					isOpen = not isOpen
					if isOpen then
						Arrow.Text = "▲"
						configSys:LoadConfigList()
						local height = math.min(#configSys.Configs * 24 + 4, 100)
						DropList.Visible = true
						Tween:Create(DropList, TweenInfo.new(0.2), {Size = UDim2.new(1, 0, 0, height)}):Play()
					else
						Arrow.Text = "▼"
						Tween:Create(DropList, TweenInfo.new(0.2), {Size = UDim2.new(1, 0, 0, 0)}):Play()
						task.wait(0.2)
						DropList.Visible = false
					end
				end

				local function renderConfigs()
					for _, child in ipairs(ListScroll:GetChildren()) do
						if child:IsA("TextButton") then
							child:Destroy()
						end
					end

					configSys:LoadConfigList()

					for _, configName in ipairs(configSys.Configs) do
						local ConfigButton = Instance.new("TextButton")
						local ConfigCorner = Instance.new("UICorner")

						ConfigButton.Parent = ListScroll
						ConfigButton.BackgroundColor3 = NoHyper.Theme.BACKGROUND
						ConfigButton.Size = UDim2.new(1, -4, 0, 22)
						ConfigButton.Font = Enum.Font.GothamMedium
						ConfigButton.Text = configName
						ConfigButton.TextColor3 = NoHyper.Theme.TEXT
						ConfigButton.TextSize = 10
						ConfigButton.ZIndex = 12

						ConfigCorner.CornerRadius = UDim.new(0, 3)
						ConfigCorner.Parent = ConfigButton

						if configName == configSys.CurrentConfig then
							ConfigButton.BackgroundColor3 = NoHyper.Theme.MAIN
							ConfigButton.TextColor3 = Color3.fromRGB(255, 255, 255)
						end

						ConfigButton.MouseButton1Click:Connect(function()
							configSys.CurrentConfig = configName
							ConfigName.Text = configName
							toggleDrop()
							renderConfigs()
						end)

						ConfigButton.MouseEnter:Connect(function()
							if configName ~= configSys.CurrentConfig then
								Tween:Create(ConfigButton, TweenInfo.new(0.1), {BackgroundColor3 = NoHyper.Theme.TOUCH}):Play()
							end
						end)

						ConfigButton.MouseLeave:Connect(function()
							if configName ~= configSys.CurrentConfig then
								Tween:Create(ConfigButton, TweenInfo.new(0.1), {BackgroundColor3 = NoHyper.Theme.BACKGROUND}):Play()
							end
						end)
					end

					ListScroll.CanvasSize = UDim2.new(0, 0, 0, ListLayout.AbsoluteContentSize.Y)
				end

				renderConfigs()

				DropButton.MouseButton1Click:Connect(toggleDrop)

				SaveButton.MouseButton1Click:Connect(function()
					if configSys:Save(configSys.CurrentConfig) then
						SaveButton.Text = "Saved!"
						task.wait(1)
						SaveButton.Text = "Save"
					end
					renderConfigs()
				end)

				LoadButton.MouseButton1Click:Connect(function()
					if configSys:Load(configSys.CurrentConfig) then
						LoadButton.Text = "Loaded!"
						task.wait(1)
						LoadButton.Text = "Load"
					end
				end)

				DeleteButton.MouseButton1Click:Connect(function()
					if configSys:Delete(configSys.CurrentConfig) then
						configSys.CurrentConfig = "default"
						ConfigName.Text = "default"
						DeleteButton.Text = "Deleted!"
						task.wait(1)
						DeleteButton.Text = "Delete"
						renderConfigs()
					end
				end)

				SectionController.update()
			end

			SectionContent.ChildAdded:Connect(SectionController.update)
			SectionController.update()

			return SectionController
		end

		return TabController
	end

	-- Toggle functionality
	local visible = true

	CloseButton.MouseButton1Click:Connect(function()
		visible = not visible
		if visible then
			Tween:Create(Container, TweenInfo.new(0.3), {Position = UDim2.new(0, 0, 0, 0)}):Play()
		else
			Tween:Create(Container, TweenInfo.new(0.3), {Position = UDim2.new(0, 0, 0, -MainFrame.Size.Y.Offset)}):Play()
		end
	end)

	UIS.InputBegan:Connect(function(input)
		if input.KeyCode == HyperWindow.Toggle then
			visible = not visible
			if visible then
				Tween:Create(Container, TweenInfo.new(0.3), {Position = UDim2.new(0, 0, 0, 0)}):Play()
			else
				Tween:Create(Container, TweenInfo.new(0.3), {Position = UDim2.new(0, 0, 0, -MainFrame.Size.Y.Offset)}):Play()
			end
		end
	end)

	-- Dragging
	local dragging, dragInput, dragStart, startPos

	local function update(input)
		local delta = input.Position - dragStart
		MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
	end

	TopBar.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			dragStart = input.Position
			startPos = MainFrame.Position
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)

	UIS.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
			dragInput = input
		end
		if dragging and dragInput then
			update(dragInput)
		end
	end)

	return HyperWindow
end

function NoHyper:LoopUpdate()
	task.spawn(function()
		while true do
			task.wait()
			pcall(function()
				for _, v in ipairs(NoHyper.AutoUpdate) do
					task.wait()
					pcall(v)
				end
			end)
		end
	end)
end

return NoHyper
